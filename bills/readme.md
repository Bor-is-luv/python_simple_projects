Написать программу, реализующую типичную финансовую задачу: разнесения оплат по счетам. Исходные данные предоставляются в виде файлов XML и CSV, в результате работы программы должен быть сформирован XML-файл. 

Входные данные 

1. Файл платежей формата CSV со следующими полями (поля разделены “;”, предполагается, что в полях символа “;” нет): 

a. Название клиента (строка); 

b. Дата платежа (в формате dd.MM.yyyy); 

c. Номер платежа (строка); 

d. Сумма платежа (число с плавающей точкой, разделитель дробной части «.»). 

Первая строка файла содержит заголовок. 

2. Файл счетов формата XML со следующей структурой: набор документов (элемент Bills), где каждый элемент (Bill) содержит атрибуты: 

a. Название клиента (строка); 

b. Дата счёта (в формате dd.MM.yyyy); 

c. Номер счёта (строка); 

d. Сумма счёта (число с плавающей точкой, разделитель дробной части «.»). 

Выходные данные 

Файл формата XML со списком оплат (Payments), где каждый элемент (Payment) представляет собой запись о платеже со следующими атрибутами: 

a. Название клиента (строка); 

b. Дата платежа (в формате dd.MM.yyyy); 

c. Номер платежа (строка); 

d. Дата счёта (в формате dd.MM.yyyy); 

e. Номер счёта (строка); 

b. Сумма платежа (число с плавающей точкой, разделитель дробной части «.»). 

Пример файлов: 

Требования по формированию оплаты 

Программа должна ставить в соответствие каждому счёту клиента один или более платёжный документ (относящийся к тому же клиенту) таким образом, чтобы сумма счёта максимально покрывалась платёжными документами. Каждый счёт может быть оплачен более чем одним платежом, каждый платёж может быть использован для оплаты более чем одного счёта. И платежи, и счёта должны быть упорядочены хронологически. Даты платежа и счёта при оплате сравнивать не надо (допускается, что платёж пришёл раньше счёта и наоборот). 

Программа должна проверять корректность входных данных (заполнение всех полей и соответствие их значений формату) и выдавать сообщение при несоответствии (достаточно выбросить исключение). В случае любой ошибки в формате исходных данных программа должна быть остановлена. 

Пример расчёта оплаты 

Счета: 

· Счёт от 05.05.2016 на сумму 100 

· Счёт от 01.05.2016 на сумму 200 

Платежи: 

· Платёж от 01.08.2016 на сумму 150 

· Платёж от 07.08.2016 на сумму 70 

Результирующая оплата: 

· Счёт от 01.05.2016, Платёж от 01.08.2016, сумма 150 

· Счёт от 01.05.2016, Платёж от 07.08.2016, сумма 50 

· Счёт от 05.05.2016, Платёж от 07.08.2016, сумма 20

NEED REWORK!!!